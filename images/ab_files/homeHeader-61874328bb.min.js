function rhex(e){for(str="",j=0;j<=3;j++)str+=hex_chr.charAt(e>>8*j+4&15)+hex_chr.charAt(e>>8*j&15);return str}function str2blks_MD5(e){for(nblk=(e.length+8>>6)+1,blks=new Array(16*nblk),i=0;i<16*nblk;i++)blks[i]=0;for(i=0;i<e.length;i++)blks[i>>2]|=e.charCodeAt(i)<<i%4*8;return blks[i>>2]|=128<<i%4*8,blks[16*nblk-2]=8*e.length,blks}function add(e,o){var i=(65535&e)+(65535&o),t=(e>>16)+(o>>16)+(i>>16);return t<<16|65535&i}function rol(e,o){return e<<o|e>>>32-o}function cmn(e,o,i,t,n,r){return add(rol(add(add(o,e),add(t,r)),n),i)}function ff(e,o,i,t,n,r,a){return cmn(o&i|~o&t,e,o,n,r,a)}function gg(e,o,i,t,n,r,a){return cmn(o&t|i&~t,e,o,n,r,a)}function hh(e,o,i,t,n,r,a){return cmn(o^i^t,e,o,n,r,a)}function ii(e,o,i,t,n,r,a){return cmn(i^(o|~t),e,o,n,r,a)}function calcMD5(e){for(x=str2blks_MD5(e),a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16)olda=a,oldb=b,oldc=c,oldd=d,a=ff(a,b,c,d,x[i+0],7,-680876936),d=ff(d,a,b,c,x[i+1],12,-389564586),c=ff(c,d,a,b,x[i+2],17,606105819),b=ff(b,c,d,a,x[i+3],22,-1044525330),a=ff(a,b,c,d,x[i+4],7,-176418897),d=ff(d,a,b,c,x[i+5],12,1200080426),c=ff(c,d,a,b,x[i+6],17,-1473231341),b=ff(b,c,d,a,x[i+7],22,-45705983),a=ff(a,b,c,d,x[i+8],7,1770035416),d=ff(d,a,b,c,x[i+9],12,-1958414417),c=ff(c,d,a,b,x[i+10],17,-42063),b=ff(b,c,d,a,x[i+11],22,-1990404162),a=ff(a,b,c,d,x[i+12],7,1804603682),d=ff(d,a,b,c,x[i+13],12,-40341101),c=ff(c,d,a,b,x[i+14],17,-1502002290),b=ff(b,c,d,a,x[i+15],22,1236535329),a=gg(a,b,c,d,x[i+1],5,-165796510),d=gg(d,a,b,c,x[i+6],9,-1069501632),c=gg(c,d,a,b,x[i+11],14,643717713),b=gg(b,c,d,a,x[i+0],20,-373897302),a=gg(a,b,c,d,x[i+5],5,-701558691),d=gg(d,a,b,c,x[i+10],9,38016083),c=gg(c,d,a,b,x[i+15],14,-660478335),b=gg(b,c,d,a,x[i+4],20,-405537848),a=gg(a,b,c,d,x[i+9],5,568446438),d=gg(d,a,b,c,x[i+14],9,-1019803690),c=gg(c,d,a,b,x[i+3],14,-187363961),b=gg(b,c,d,a,x[i+8],20,1163531501),a=gg(a,b,c,d,x[i+13],5,-1444681467),d=gg(d,a,b,c,x[i+2],9,-51403784),c=gg(c,d,a,b,x[i+7],14,1735328473),b=gg(b,c,d,a,x[i+12],20,-1926607734),a=hh(a,b,c,d,x[i+5],4,-378558),d=hh(d,a,b,c,x[i+8],11,-2022574463),c=hh(c,d,a,b,x[i+11],16,1839030562),b=hh(b,c,d,a,x[i+14],23,-35309556),a=hh(a,b,c,d,x[i+1],4,-1530992060),d=hh(d,a,b,c,x[i+4],11,1272893353),c=hh(c,d,a,b,x[i+7],16,-155497632),b=hh(b,c,d,a,x[i+10],23,-1094730640),a=hh(a,b,c,d,x[i+13],4,681279174),d=hh(d,a,b,c,x[i+0],11,-358537222),c=hh(c,d,a,b,x[i+3],16,-722521979),b=hh(b,c,d,a,x[i+6],23,76029189),a=hh(a,b,c,d,x[i+9],4,-640364487),d=hh(d,a,b,c,x[i+12],11,-421815835),c=hh(c,d,a,b,x[i+15],16,530742520),b=hh(b,c,d,a,x[i+2],23,-995338651),a=ii(a,b,c,d,x[i+0],6,-198630844),d=ii(d,a,b,c,x[i+7],10,1126891415),c=ii(c,d,a,b,x[i+14],15,-1416354905),b=ii(b,c,d,a,x[i+5],21,-57434055),a=ii(a,b,c,d,x[i+12],6,1700485571),d=ii(d,a,b,c,x[i+3],10,-1894986606),c=ii(c,d,a,b,x[i+10],15,-1051523),b=ii(b,c,d,a,x[i+1],21,-2054922799),a=ii(a,b,c,d,x[i+8],6,1873313359),d=ii(d,a,b,c,x[i+15],10,-30611744),c=ii(c,d,a,b,x[i+6],15,-1560198380),b=ii(b,c,d,a,x[i+13],21,1309151649),a=ii(a,b,c,d,x[i+4],6,-145523070),d=ii(d,a,b,c,x[i+11],10,-1120210379),c=ii(c,d,a,b,x[i+2],15,718787259),b=ii(b,c,d,a,x[i+9],21,-343485551),a=add(a,olda),b=add(b,oldb),c=add(c,oldc),d=add(d,oldd);return rhex(a)+rhex(b)+rhex(c)+rhex(d)}function httpPost(){}function loadFbConnectSdk(){!function(e){var o,i="facebook-jssdk",t=e.getElementsByTagName("script")[0];e.getElementById(i)||(o=e.createElement("script"),o.id=i,o.async=!0,o.src="//connect.facebook.net/en_US/sdk.js",t.parentNode.insertBefore(o,t))}(document)}function testAPI(){console.log("Welcome!  Fetching your information.... "),FB.api("/me",function(e){})}function updateFbData(e){null!=e.mmtEmail&&(mmtEmail=e.mmtEmail),null!=e.authToken&&(authToken=e.authToken),null!=e.fbEmail&&(fbEmail=e.fbEmail)}function loginWithFb(){function e(e,o,i){if(e)if(e=JSON.parse(e),200===e.responseCode){if($(".ch__profileOverlay").show(),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection").slideUp(500),e.modelViews)for(var t=e.modelViews.length,n=0;n<t;n++)router.updatePartialModel(e.modelViews[n]);try{signInCurrentPage()}catch(r){}MMT_HEADER.loadLoggedInSections();var a=router.getViewModel("header_info_view");a&&"HLP"==a.data.lob&&e.otpVerification&&($(".ch__otpsection").show(),$(".hdr-send-otp-con").show(),$(".hdr_verifyMobText").text(""),$(".hdr_verifyOTPText").text("")),NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0)}else MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|FB","Login Failed"),alert(e.message);else MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|FB","Login Failed"),alert("Some error has occurred. Please try again.")}function o(e,o,i){MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|FB","Login Failed"),alert("Some error has occurred. Please try again.")}authToken="",FB.api("/me?fields=email,name,id,first_name,last_name",function(i){if(i.name){var t=FB.getAuthResponse().accessToken,n={};n.emailId=i.email,n.authToken=t,n.name=i.name,n.socialId=i.id,n.firstName=i.first_name,n.lastName=i.last_name,n.accountType="facebook",n.visitorId=MMT_HEADER.getCookie("s_vi"),MMT_HEADER.dynamicVar.loginEmail=i.email,MMT_HEADER.ajaxPost(MMT_HEADER.constants.socialLoginURL,JSON.stringify(n),e,o)}else console.log("Unable to connect with facebook. Please try again!!")})}function loadGPlusConnect(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.defer=!0,e.src="https://apis.google.com/js/api:client.js?onload=attachGplusButton";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}function attachGplusButton(){var e=document.getElementById("ch_signup_google"),o=document.getElementById("ch_login_google");gapi.load("auth2",function(){gapi.auth2.getAuthInstance()||(auth2=gapi.auth2.init({client_id:"365487944636-q943oq1rje9ugcbscagg2vre5om9maj0.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/plus.login "}),auth2.attachClickHandler(o,{},onGoogleSignIn,function(e){}),auth2.attachClickHandler(e,{},onGoogleSignIn,function(e){}))})}function onGoogleSignIn(e){var o={},i=e.getAuthResponse(),t=e.getBasicProfile();o.authToken=i.access_token,o.idToken=i.id_token,o.gPlusImage=t.getImageUrl(),o.emailId=t.getEmail(),o.name=t.getName(),o.socialId=t.getId(),o.firstName=t.getGivenName(),o.lastName=t.getFamilyName(),o.accountType="google",o.visitorId=MMT_HEADER.getCookie("s_vi"),MMT_HEADER.dynamicVar.loginEmail=t.getEmail(),MMT_HEADER.ajaxPost(MMT_HEADER.constants.socialLoginURL,JSON.stringify(o),successGPlusLogin,errorGPlusLogin)}function successGPlusLogin(e,o,i){if(e)if(e=JSON.parse(e),e&&200===e.responseCode){if($(".ch__profileOverlay").show(),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection").slideUp(500),e.modelViews)for(var t=e.modelViews.length,n=0;n<t;n++)router.updatePartialModel(e.modelViews[n]);try{signInCurrentPage()}catch(r){}MMT_HEADER.loadLoggedInSections();var a=router.getViewModel("header_info_view");a&&"HLP"==a.data.lob&&e.otpVerification&&($(".ch__otpsection").show(),$(".hdr-send-otp-con").show(),$(".hdr_verifyMobText").text(""),$(".hdr_verifyOTPText").text("")),NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0)}else MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|GPlus","Login Failed"),alert(e.message);else MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|GPlus","Login Failed"),alert("Some error has occurred. Please try again.")}function errorGPlusLogin(e,o,i){MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|GPlus","Login Failed"),alert("Some error has occurred. Please try again.")}var hex_chr="0123456789abcdef",mtr_username="",MMT_HEADER={constants:{loginURL:"//hcs.makemytrip.com/commonheader/services/login",socialLoginURL:"//hcs.makemytrip.com/commonheader/services/socialLogin",registerURL:"//hcs.makemytrip.com/commonheader/services/registerUser",forgotPasswordURL:"//hcs.makemytrip.com/commonheader/services/forgotPassword",verifyForgotPasswordURL:"//hcs.makemytrip.com/commonheader/services/verifyForgotPassword",resetPasswordWithTokenURL:"//hcs.makemytrip.com/commonheader/services/resetPassword",logoutURL:"//hcs.makemytrip.com/commonheader/services/logout",walletDetailsURL:"//hcs.makemytrip.com/commonheader/services/getWalletDetails",mmtBlackURL:"//hcs.makemytrip.com/commonheader/services/userStatus",myTripsDetailsURL:"//hcs.makemytrip.com/commonheader/services/getMyTrips",notificationRegisterURL:"//hcs.makemytrip.com/commonheader/services/notification/register",supportzLogoutURL:"https://support.makemytrip.com/signout.aspx",validateUserSessionUrl:"//hcs.makemytrip.com/commonheader/services/validateSession",sendOTPUrl:"//hcs.makemytrip.com/commonheader/services/sendOTP",verifyOTPUrl:"//hcs.makemytrip.com/commonheader/services/verifyOTP",defaultErrorMessage:"Some error occurred. Please try later",ssoURL:"https://mybiz.makemytrip.com/v2/ssologin",userNumber:"",email:"",token:"",isPasswordResetOtpCall:!1,resendOTPSuccess:"OTP sent again. Please check",getLoginDrawerHTML:"//hcs.makemytrip.com/commonheader/services/getLoginDrawerHTML",loginSectionHTML:"loginSectionHTML",signupHTML:"signupHTML",forgotPasswordHTML:"forgotPasswordHTML",lobsToServeHomeHeaderForCorporate:["HLP","SEO"],lobsToServeFunnelHeaderForCorporate:["HOTELS","FLIGHTS"],userDetailsUrl:"//corpcb.makemytrip.com/user/employeeAndOrgDetails"},dynamicVar:{loginEmail:""},ajaxGet:function(e,o,i){$.ajax({url:e,method:"GET",async:!0,dataType:"text",contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0},success:o,error:i})},ajaxPost:function(e,o,i,t){$.ajax({url:e,method:"POST",async:!0,dataType:"text",contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0},data:o,success:i,error:t})},ajaxCall:function(e,o,i,t,n,r,a,s){$.ajax({url:e,method:o,async:i,dataType:t,contentType:n,data:r,success:a,error:s})},submitSignUp:function(){function e(e,o,i){if($("#ch_signup_btn").removeClass("loading"),$("#ch_signup_btn").prop("disabled",!1),MMT_HEADER.dynamicVar.loginEmail=email,e)if(e=JSON.parse(e),e&&200===e.responseCode){if($("#ch_signup_email").val(""),$("#ch_signup_phone").val(""),$("#ch_signup_password").val(""),$(".ch__profileOverlay").show(),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection").slideUp(500),e.modelViews)for(var n=e.modelViews.length,r=0;r<n;r++)router.updatePartialModel(e.modelViews[r]);try{signInCurrentPage()}catch(a){}MMT_HEADER.loadLoggedInSections(),t&&"HLP"==t.data.lob&&($(".ch__otpsection").show(),$(".hdr-send-otp-con").show(),$(".hdr_verifyMobText").text(""),$(".hdr_verifyOTPText").text("")),NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0)}else $("#ch_signup_error .ch-error-innertxt").text(e.message),MMT_CUSTOM.selectorShow($("#ch_signup_error"),"signup_error"+e.message);else $("#ch_signup_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),MMT_CUSTOM.selectorShow($("#ch_signup_error"),"signup_error"+MMT_HEADER.constants.defaultErrorMessage)}function o(e,o,i){$("#ch_signup_btn").removeClass("loading"),$("#ch_signup_btn").prop("disabled",!1),$("#ch_signup_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),MMT_CUSTOM.selectorShow($("#ch_signup_error"),"signup_error"+MMT_HEADER.constants.defaultErrorMessage)}if(email=$("#ch_signup_email").val(),phone=$("#ch_signup_phone").val(),password=$("#ch_signup_password").val(),MMT_HEADER.validations.validateSignUp(email,phone,password)){$("#ch_signup_btn").addClass("loading"),$("#ch_signup_btn").prop("disabled","disabled");var i={};i.email=email,i.phone=phone,i.password=password,i.visitorId=MMT_HEADER.getCookie("s_vi");var t=router.getViewModel("header_info_view");t&&(i.lob=t.data.lob),i=JSON.stringify(i),MMT_HEADER.ajaxPost(MMT_HEADER.constants.registerURL,i,e,o)}},submitResetPassword:function(){function e(e,o,i){if(e)if(e=JSON.parse(e),200===e.responseCode){if($("#ch_set_new_password").val(""),$(".ch__loginSection,.ch__signUpSection").slideUp(500),$(".hdr-set-new-password-con").hide(),$(".hdr-verify-otp-con").hide(),$(".hdr-password-reset-con").show(),$("#forgotpwd_password_section,#forgot_pwd_heading").hide(),$("#forgotpwd_sent_section").show(),e.modelViews)for(var t=e.modelViews.length,n=0;n<t;n++)router.updatePartialModel(e.modelViews[n])}else 501===e.responseCode?($(".forgot-password-retry").show(),$(".hdr_forgot_pswd_error_text").text(e.message)):($("#ch_set_new_password_error .ch-error-innertxt").text(e.message),$("#ch_set_new_password_error").show())}function o(e,o,i){$(".hdr_verifyOTPText").text(MMT_HEADER.constants.defaultErrorMessage)}if(password=$("#ch_set_new_password").val(),MMT_HEADER.validations.validateResetPassword(password)){var i={};i.token=MMT_HEADER.constants.token,i.password=password,i.mobileNumber=MMT_HEADER.constants.userNumber?MMT_HEADER.constants.userNumber:null,i.email=MMT_HEADER.constants.email?MMT_HEADER.constants.email:null,i.visitorId=MMT_HEADER.getCookie("s_vi"),i=JSON.stringify(i),MMT_HEADER.ajaxPost(MMT_HEADER.constants.resetPasswordWithTokenURL,i,e,o)}},showForgotPasswordRetryScreen:function(e){console.log("============",e),e.stopPropagation(),$(".ch__loginSection,.ch__signUpSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__forgetPwdSection").slideDown(500),$(".hdr-password-reset-con").show(),$(".hdr-set-new-password-con").hide(),$(".hdr-verify-otp-con").hide(),$("#forgotpwd_password_section,#forgot_pwd_heading").show(),$("#forgotpwd_sent_section").hide(),$(".forgot-password-retry").hide(),$("#ch_forgetpwd_email").val(MMT_HEADER.constants.userNumber?MMT_HEADER.constants.userNumber:MMT_HEADER.constants.email)})},submitForgotPassword:function(){function e(e,o,t){$("#ch_forgetpwd_submit").removeClass("loading"),$("#ch_forgetpwd_submit").prop("disabled",!1),e=JSON.parse(e),e&&200===e.responseCode?(MMT_HEADER.constants.isPasswordResetOtpCall=!0,MMT_HEADER.constants.userNumber="MOBILE"==n?i:"",MMT_HEADER.constants.email="EMAIL"==n?i:"",$(".hdr-password-reset-con").hide(),$(".hdr-verify-otp-con").show(),$(".otp_reset_message").show(),$(".ch__ResetPsd_no_padding").text(e.message),$(".hdr_verifyOTPText").text(""),$("#ch_OTP_token_forgot_pwd").val("")):($("#ch_forgetpwd_error .ch-error-innertxt").text(e.message),$("#ch_forgetpwd_error").show())}function o(e,o,i){$("#ch_forgetpwd_submit").removeClass("loading"),$("#ch_forgetpwd_submit").prop("disabled",!1),$("#ch_forgetpwd_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),$("#ch_forgetpwd_error").show()}var i=$("#ch_forgetpwd_email").val(),t=MMT_HEADER.validations.validateLoginId(i);if(!t.valid)return void MMT_HEADER.validations.showErrorMessage("ch_forgetpwd_email_error",t.message);var n=t.type;$("#ch_forgetpwd_submit").addClass("loading"),$("#ch_forgetpwd_submit").prop("disabled","disabled");var r={};"EMAIL"==n?r.email=i:"MOBILE"==n&&(r.mobileNumber=i),r.channel=["EMAIL","MOBILE"],r.visitorId=MMT_HEADER.getCookie("s_vi"),r=JSON.stringify(r),MMT_HEADER.ajaxPost(MMT_HEADER.constants.forgotPasswordURL,r,e,o)},submitLogin:function(){function e(e,o,t){if($("#ch_login_btn").removeClass("loading"),$("#ch_login_btn").prop("disabled",!1),MMT_HEADER.dynamicVar.loginEmail=loginId,e)if(e=JSON.parse(e),e&&200===e.responseCode){if($("#ch_login_email").val(""),$("#ch_login_password").val(""),$(".ch__profileOverlay").show(),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection").slideUp(500),"b2b"===i&&MMT_HEADER.omnitureConfig(),e.modelViews)for(var n=e.modelViews.length,r=0;r<n;r++)router.updatePartialModel(e.modelViews[r]);try{signInCurrentPage()}catch(s){}var c=MMT_HEADER.getCookie("myBusinessSubscription");if(c&&"b2b"==c)try{MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|MMT|Corporate","Login Success"),corporateSignIn()}catch(s){}MMT_HEADER.loadLoggedInSections(),a&&"HLP"==a.data.lob&&e.otpVerification&&($(".ch__otpsection").show(),$(".hdr-send-otp-con").show(),$(".hdr_verifyMobText").text(""),$(".hdr_verifyOTPText").text("")),NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0)}else e&&502===e.responseCode?loginId?window.location.href=MMT_HEADER.constants.ssoURL+"?user="+loginId:window.location.href=MMT_HEADER.constants.ssoURL:($("#ch_login_error .ch-error-innertxt").text(e.message),MMT_CUSTOM.selectorShow($("#ch_login_error"),"login_error: "+e.message));else $("#ch_login_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),MMT_CUSTOM.selectorShow($("#ch_login_error"),"login_error: "+MMT_HEADER.constants.defaultErrorMessage)}function o(e,o,i){$("#ch_login_btn").removeClass("loading"),$("#ch_login_btn").prop("disabled",!1),$("#ch_login_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),MMT_CUSTOM.selectorShow($("#ch_login_error"),"login_error: "+MMT_HEADER.constants.defaultErrorMessage)}loginId=$("#ch_login_email").val(),password=$("#ch_login_password").val();var i=$(".corploginSignup:checked").val(),t=MMT_HEADER.validations.validateLogin(loginId,password);if(t.valid&&"MOBILE"==t.type&&"b2b"==i){var n="Mobile number based login is currently not available on myBiz. Please use your email id to login.";return $("#ch_login_error .ch-error-innertxt").text(n),void MMT_CUSTOM.selectorShow($("#ch_login_error"),"login_error: "+n)}if(t.valid){$("#ch_login_btn").addClass("loading"),$("#ch_login_btn").prop("disabled","disabled");var r={};r.type=t.type,r.loginId=loginId,r.password=password,r.custType=i,r.visitorId=MMT_HEADER.getCookie("s_vi");var a=router.getViewModel("header_info_view");a&&(r.lob=a.data.lob),r=JSON.stringify(r),MMT_HEADER.ajaxPost(MMT_HEADER.constants.loginURL,r,e,o)}},omnitureConfig:function(){function e(e,o,i){if(console.log("inside sucess"+e+", and status "+o+", xhr"+i),e){if(e=JSON.parse(e),e&&"success"===o){console.log("response from employee Details :"+e);try{localStorage.setItem("orgId",e.orgId),localStorage.setItem("policyId",e.policyId),localStorage.setItem("signedIn",!0),console.log("orgId : "+localStorage.getItem("orgId")+", policyId : "+localStorage.getItem("policyId")+", signedIn : "+localStorage.getItem("signedIn"));var t=e.roles.includes("ADMIN");t?localStorage.setItem("isCorpAdmin","Y"):localStorage.setItem("isCorpAdmin","N")}catch(n){console.log("not able to set local storage for orgId, policyId, and signedIn")}}}else console.log("result in else --> "+e)}function o(e,o,i){console.log("Not able to get the employee details for"),console.log("status : "+o),console.log("error :"+i)}console.log("starting omniture tracking process");var i=MMT_HEADER.getCookie("mmt-auth");console.log("mmt-aut for :"+i),MMT_HEADER.ajaxGet(MMT_HEADER.constants.userDetailsUrl,e,o)},clearLocalStorage:function(){try{localStorage.removeItem("orgId"),localStorage.removeItem("policyId"),localStorage.removeItem("signedIn"),localStorage.removeItem("isCorpAdmin")}catch(e){return console.log("error while removing the localstorage"),!1}},submitLogOut:function(){function e(e,o,i){if(e)if(e=JSON.parse(e),e&&200===e.responseCode){if($(".ch__profileOverlay").hide(),$(".list_overlay").hide(),MMT_HEADER.clearCache(),MMT_HEADER.clearLocalStorage(),MMT_HEADER.constants.lobsToServeHomeHeaderForCorporate.indexOf(t.data.lob)>-1?($("#mmt_header_navigation").removeClass("corp-theme"),$(".ch_myBusiness").show(),$(".ch__mmtBlack").hide(),$(".o-mmt-black").hide(),$(".ch_b2cSupport").show(),$(".ch_b2bSupport").hide(),$(".hdr_referEarn").show(),$(".ch_referEarnHome").show()):$(".ch__bodyWrapper").removeClass("corp-theme"),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection,.hdr-send-otp-con,.hdr-verfy-otp-con").slideUp(500),e.modelViews)for(var n=e.modelViews.length,r=0;r<n;r++)router.updatePartialModel(e.modelViews[r]);MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"Guest","Logout Success"),MMT_HEADER.dynamicVar.loginEmail="";try{signOutCurrentPage()}catch(a){}NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0),(window.location.href.indexOf("support.makemytrip.com")>-1||window.location.href.indexOf("supportz.makemytrip.com")>-1)&&(document.location.href=MMT_HEADER.constants.supportzLogoutURL)}else console.log("Error while Logging out : "+e.message),window.location.reload();else console.log("Error while Logging out")}function o(e,o,i){console.log("Error while Logging out : "+i)}var i={},t=router.getViewModel("header_info_view");t&&(i.lob=t.data.lob,i.visitorId=MMT_HEADER.getCookie("s_vi")),i=JSON.stringify(i),$(".switch-profile-m1").hide(),$(".switch-profile-ol").hide(),MMT_HEADER.ajaxPost(MMT_HEADER.constants.logoutURL,i,e,o)},businessLogout:function(){function e(e,o,i){e?(e=JSON.parse(e),e&&200===e.responseCode?($(".ch__profileOverlay").hide(),$(".list_overlay").hide(),MMT_HEADER.clearCache(),MMT_HEADER.clearLocalStorage(),document.location.href="//mybiz.makemytrip.com/userlogin?nextPage=main_booking_site"):console.log("Error while Logging out : "+e.message)):console.log("Error while Logging out")}function o(e,o,i){console.log("Error while Logging out : "+i)}var i={},t=router.getViewModel("header_info_view");t&&(i.lob=t.data.lob),i=JSON.stringify(i),$(".switch-profile-m1").hide(),$(".switch-profile-ol").hide(),$(".switch-profile-myBusiness").hide(),MMT_HEADER.ajaxPost(MMT_HEADER.constants.logoutURL,i,e,o)},loadLoggedInSections:function(){var e=MMT_HEADER.getCookie("mmt-auth");if(!e)return void MMT_HEADER.clearCache();$(".ch__profileOverlay").show();var o=router.getViewModel("user_logged_in"),i=MMT_HEADER.getCookie("myBusinessSubscription");if("b2b"==i){var t=router.getViewModel("header_info_view");t&&MMT_HEADER.constants.lobsToServeHomeHeaderForCorporate.indexOf(t.data.lob)>-1?($("#mmt_header_navigation").addClass("corp-theme"),$(".ch_myBusiness").hide(),$(".ch_b2cSupport").hide(),$(".ch_b2bSupport").show(),$(".hdr_referEarn").hide(),$(".ch_referEarnHome").hide()):t&&MMT_HEADER.constants.lobsToServeFunnelHeaderForCorporate.indexOf(t.data.lob)>-1&&$(".ch__bodyWrapper").addClass("corp-theme"),location.href.indexOf("www.makemytrip.com/holidays-india")>-1||location.href.indexOf("www.makemytrip.com/holidays-international")>-1?document.location.href="//www.makemytrip.com":location.href.indexOf("www.makemytrip.com/railways")>-1||location.href.indexOf("www.makemytrip.com/cabs")>-1?document.location.href="//www.makemytrip.com":(location.href.indexOf("www.makemytrip.com/flights-hotels")>-1||location.href.indexOf("www.makemytrip.com/homestays")>-1)&&(document.location.href="//www.makemytrip.com"),$("#hdr_personal-account").removeClass("active"),$("#hdr_corp-account").addClass("active"),$(".ch_profilePersonal").hide(),$(".ch_profileCorp").show()}else $("#hdr_corp-account").removeClass("active"),$("#hdr_personal-account").addClass("active"),$(".ch_profileCorp").hide(),$(".ch_profilePersonal").show();if(this.validateSession(),o&&o.data&&"1"===o.data.display){null!=i&&"b2b"==i||(this.loadWallet(),this.loadMMTBlack()),this.loadMytrips();var n=MMT_HEADER.getCookie("fbEmail");n&&"f"===n.charAt(2)?MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|FB","Login Success"):n&&"g"===n.charAt(2)?MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|GPlus","Login Success"):null!=i&&"b2b"==i||MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|MMT","Login Success")}},loadProfileOverlay:function(){if(!MMT_HEADER.getCookie("mmt-auth"))return void MMT_HEADER.clearCache();$(".ch__profileOverlay").show();var e=(router.getViewModel("header_info_view"),router.getViewModel("user_logged_in")),o=MMT_HEADER.getCookie("myBusinessSubscription");this.validateSession(),null==o||"b2b"!=o?($("#hdr_corp-account").removeClass("active"),$("#hdr_personal-account").addClass("active"),$(".ch_profileCorp").hide(),$(".ch_profilePersonal").show(),this.loadMMTBlack(),e&&e.data&&"1"===e.data.display&&this.loadWallet()):($(".ch__bodyWrapper").addClass("corp-theme"),$("#hdr_personal-account").removeClass("active"),$("#hdr_corp-account").addClass("active"),$(".ch_profilePersonal").hide(),$(".ch_profileCorp").show())},loadWallet:function(){function e(e,i,t){$("#wallet_loader_icon").hide();var n=MMT_HEADER.getCookie("mmt-auth");e&&(e=JSON.parse(e),200===e.responseCode?n&&null!=n&&n.length>100&&o(e,!1):5404===e.responseCode&&(document.location.href="//www.makemytrip.com"))}function o(e,o){if(e.modelViews)for(var i=e.modelViews.length,t=0;t<i;t++)router.updatePartialModel(e.modelViews[t]);var r=s_gi("mmtprod");if(r.linkTrackVars="channel,eVar1,eVar15,eVar34,eVar39,eVar95",e.walletAmount&&e.walletAmount>0?r.eVar95=e.walletAmount:r.eVar95="Null",r.tl(this,"o",null),!o){var a=(new Date).getTime()+e.payload;MMT_HEADER.putInCache(n+"_wallet",e,a)}}function i(e,o,i){$("#wallet_loader_icon").hide(),$(".o-i-wallet").show()}var t=router.getViewModel("header_info_view");if(null!=t&&"0"!==t.data.displayWallet){$("#wallet_loader_icon").show(),$(".o-i-wallet").hide();var n=MMT_HEADER.getCookie("mmt-auth"),r=MMT_HEADER.getFromCache(n+"_wallet");if(r)$("#wallet_loader_icon").hide(),o(r,!0);else{var a=MMT_HEADER.getCookie("s_vi");MMT_HEADER.ajaxPost(MMT_HEADER.constants.walletDetailsURL,a,e,i)}}},adminCheck:function(){var e=MMT_HEADER.getCookie("corporateRole");return!(!MMT_HEADER.getCookie("mmt-auth")||!e||"admin"!=e)},loadMMTBlack:function(){function e(e,i,t){var n=MMT_HEADER.getCookie("mmt-auth");e&&(e=JSON.parse(e),200===e.responseCode?n&&null!=n&&n.length>100&&o(e,!1):5404===e.responseCode&&(document.location.href="//www.makemytrip.com"))}function o(e,o){var i=router.getViewModel("header_info_view");if(i&&"HLP"==i.data.lob){var t={};t=o?MMT_HEADER.getCookie("MMT_LOYALTY"):e.payload,"ACTIVE_INIT"!=t&&"ACTIVE"!=t||($(".o-mmt-black").show(),$(".ch__mmtBlack").show())}}function i(e,o,i){}var t=MMT_HEADER.getCookie("MMT_LOYALTY");if(null!=t)o(null,!0);else{var n=MMT_HEADER.getCookie("s_vi");MMT_HEADER.ajaxPost(MMT_HEADER.constants.mmtBlackURL,n,e,i)}},validateSession:function(){function e(e,o,i){e&&(e=JSON.parse(e),5404===e.responseCode&&(document.location.href="//www.makemytrip.com"))}function o(e,o,i){}var i=MMT_HEADER.getCookie("userSession"),t=MMT_HEADER.getCookie("valid-auth-session");if(!i||!t){var n={};n.headerType="NEW_HEADER",n.visitorId=MMT_HEADER.getCookie("s_vi"),n.pageRefreshFlag=!!i,MMT_HEADER.ajaxPost(MMT_HEADER.constants.validateUserSessionUrl,JSON.stringify(n),e,o)}},loadMytrips:function(){function e(e,i,t){$("#trips_loader_icon").hide(),$(".o-i-trip-bag").show();var n=MMT_HEADER.getCookie("mmt-auth");n&&null!=n&&n.length>100&&e&&(e=JSON.parse(e),200===e.responseCode&&o(e,!1))}function o(e,o){if(e.modelViews)for(var i=e.modelViews.length,t=0;t<i;t++)router.updatePartialModel(e.modelViews[t]);var n=router.getViewModel("trip_list_overlay");if(n&&n.data&&n.data.length>0&&$(".list_overlay").show(),!o){var a=(new Date).getTime()+e.payload;MMT_HEADER.putInCache(r+"_trips",e,a)}}function i(e,o,i){$("#trips_loader_icon").hide(),$(".o-i-trip-bag").show()}var t=router.getViewModel("header_info_view");if("HLP"===t.data.lob&&"0"!==t.data.displayMytrips){$("#trips_loader_icon").show(),$(".o-i-trip-bag").hide();var n=router.getViewModel("trip_login_overlay");n&&n.data&&"1"==n.data.display&&(n.data.display="0");var r=MMT_HEADER.getCookie("mmt-auth"),a=MMT_HEADER.getFromCache(r+"_trips");if(a)$("#trips_loader_icon").hide(),$(".o-i-trip-bag").show(),o(a,!0);else{var s=MMT_HEADER.getCookie("s_vi");MMT_HEADER.ajaxPost(MMT_HEADER.constants.myTripsDetailsURL,s,e,i)}}},sendOTPNumber:function(){function e(e,o,i){e&&(e=JSON.parse(e),200===e.responseCode?(MMT_HEADER.constants.isPasswordResetOtpCall=!1,MMT_HEADER.constants.userNumber=t,$(".hdr-send-otp-con").hide(),$(".otp_reset_message").hide(),$(".hdr-verfy-otp-con").show(),$(".otp-term-condition").show()):$(".hdr_verifyMobText").text(e.message))}function o(e,o,i){$(".hdr_verifyMobText").text(MMT_HEADER.constants.defaultErrorMessage)}var i=MMT_HEADER.getCookie("mmt-auth");if(i){var t=$("#ch_mobile_number").val(),n="+91";t=n.concat(t);var r=null;if(r=MMT_HEADER.validations.validatePhone(t))$(".hdr_verifyMobText").text(r);else{var a={};a.mobileNum=t,a.visitorId=MMT_HEADER.getCookie("s_vi"),a=JSON.stringify(a),MMT_HEADER.ajaxPost(MMT_HEADER.constants.sendOTPUrl,a,e,o)}}},verifyOTPPasswordReset:function(){function e(e,o,i){e&&(e=JSON.parse(e),200===e.responseCode?($("#ch_OTP_token_forgot_pwd").val(""),$("#ch_mobile_number").val(""),$(".hdr-verify-otp-con").hide(),$("#ch_set_new_password").val(""),$(".hdr-set-new-password-con").show()):$(".hdr_verifyOTPText").text(e.message))}function o(e,o,i){$(".hdr_verifyOTPText").text(MMT_HEADER.constants.defaultErrorMessage)}var i=$("#ch_OTP_token_forgot_pwd").val();MMT_HEADER.constants.token=i;var t={};t.token=i,t.mobileNumber=MMT_HEADER.constants.userNumber?MMT_HEADER.constants.userNumber:null,t.email=MMT_HEADER.constants.email?MMT_HEADER.constants.email:null,t.visitorId=MMT_HEADER.getCookie("s_vi"),t=JSON.stringify(t),MMT_HEADER.ajaxPost(MMT_HEADER.constants.verifyForgotPasswordURL,t,e,o)},verifyOTPNumber:function(){function e(e,o,i){if(e)if(e=JSON.parse(e),200===e.responseCode){$(".hdr-send-otp-con").hide(),$(".hdr-verfy-otp-con").hide(),$("#ch_OTP_token").val(""),$("#ch_mobile_number").val("");try{mobileOTPVerified()}catch(t){}}else $(".hdr_verifyOTPText").text(e.message)}function o(e,o,i){$(".hdr_verifyOTPText").text(MMT_HEADER.constants.defaultErrorMessage)}var i=$("#ch_OTP_token").val(),t={};t.token=i,t.mobileNum=MMT_HEADER.constants.userNumber,t.visitorId=MMT_HEADER.getCookie("s_vi"),t=JSON.stringify(t),MMT_HEADER.ajaxPost(MMT_HEADER.constants.verifyOTPUrl,t,e,o)},resendOTPNumber:function(){MMT_HEADER.constants.isPasswordResetOtpCall||MMT_HEADER.resendOTPVerifyNumber()},resendOTPVerifyNumber:function(){function e(e,o,i){e&&(e=JSON.parse(e),200===e.responseCode?($(".hdr-send-otp-con").hide(),$(".hdr-verfy-otp-con").show(),$(".hdr_verifyOTPText").text(MMT_HEADER.constants.resendOTPSuccess)):$(".hdr_verifyOTPText").text(e.message))}function o(e,o,i){$(".hdr_verifyOTPText").text(MMT_HEADER.constants.defaultErrorMessage)}var i={};i.mobileNum=MMT_HEADER.constants.userNumber,i.visitorId=MMT_HEADER.getCookie("s_vi"),i=JSON.stringify(i),MMT_HEADER.ajaxPost(MMT_HEADER.constants.sendOTPUrl,i,e,o)},resendForgotPassword:function(){function e(e,o,i){e=JSON.parse(e),e&&200===e.responseCode?$(".hdr_verifyOTPText").text(MMT_HEADER.constants.resendOTPSuccess):e&&($(".otp_reset_message").hide(),$(".ch__ResetPsd_no_padding").text(""),$(".hdr_verifyOTPText").text(e.message))}function o(e,o,i){$(".hdr_verifyOTPText").text(MMT_HEADER.constants.defaultErrorMessage)}var i=MMT_HEADER.constants.email,t=MMT_HEADER.constants.userNumber,n=i?"EMAIL":"MOBILE",r={};"EMAIL"==n?r.email=i:r.mobileNumber=t,r.channel=["EMAIL","MOBILE"],r.visitorId=MMT_HEADER.getCookie("s_vi"),r=JSON.stringify(r),MMT_HEADER.ajaxPost(MMT_HEADER.constants.forgotPasswordURL,r,e,o)},loadSocialConnect:function(){loadGPlusConnect()},loadFacebookSDK:function(){loadFbConnectSdk()},getLoginDrawerHTML:function(){function e(e,o,i){var t=JSON.parse(e);void 0===$("#ch_login_email")[0]&&$("#userLoginSection").append(t[MMT_HEADER.constants.loginSectionHTML]),void 0===$("#ch_forgetpwd_email")[0]&&$("#userForgetPassword").append(t[MMT_HEADER.constants.forgotPasswordHTML]),void 0===$("#ch_signup_email")[0]&&$("#userSignUp").append(t[MMT_HEADER.constants.signupHTML]),MMT_HEADER.removePartiallyAppliedListenersForHTML(),MMT_HEADER.freshlyRegisterListenersForHTML(),MMT_HEADER.loadFacebookSDK(),MMT_HEADER.loadSocialConnect()}function o(e,o,i){}$("#userLoginSection").is(":visible")&&$("#userLoginSection").children().length>0||$("#userSignUp").is(":visible")&&$("#userSignUp").children().length>0||MMT_HEADER.ajaxGet(MMT_HEADER.constants.getLoginDrawerHTML,e,o)},removePartiallyAppliedListenersForHTML:function(){MMT_CUSTOM.removeAllEvents()},freshlyRegisterListenersForHTML:function(){
MMT_CUSTOM.attachAllEvents()},clearCache:function(){var e=MMT.cache.get("hcs",null);if(e){e=JSON.parse(e);var o=e.notification;if(void 0==o||null==o)return void MMT.cache.remove("hcs");for(var i in e)"notification"!=i&&delete e[i];o.content&&o.content.loginItems&&(o.content.loginItems=null),e.notification=o,MMT.cache.set("hcs",JSON.stringify(e))}},putInCache:function(e,o,i){var t={};t.expires=i,t.content=o;var n=MMT.cache.get("hcs",null);n=n?JSON.parse(n):{},n[e]=t,MMT.cache.set("hcs",JSON.stringify(n))},getFromCache:function(e){var o=null,i=null,t=MMT.cache.get("hcs",null);if(t&&(t=JSON.parse(t),i=t[e])){var n=i.expires,r=(new Date).getTime();r>=n?(t[e]=null,MMT.cache.set("hcs",JSON.stringify(t))):o=i.content}return o},deleteCookie:function(e){if(MMT_HEADER.getCookie(e)){var o=new Date,i="/";o.setMonth(o.getMonth()-12),document.cookie=e+"="+i+";expires="+o+";domain=.makemytrip.com;path=/"}},getCookie:function(e){for(var o=e+"=",i=document.cookie.split(";"),t=0;t<i.length;t++){for(var n=i[t];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(o))return n.substring(o.length,n.length)}return null},setVisitorCookie:function(){var e=MMT_HEADER.getCookie("hcs_vid"),o=MMT_HEADER.getCookie("s_vi");if(!e&&o){var i=MMT_HEADER.formatVisitorId(o);i&&(document.cookie="hcs_vid="+i+"; path=/; domain=.makemytrip.com")}},formatVisitorId:function(e){var o=e.split("|");if(o[1]){var i=o[1].split("[");if(i[0])return i[0]}return""},loginLogoutEvent:function(e,o,i){var t=s_gi("mmtprod");t.linkTrackVars="channel,eVar1,eVar15,eVar24,eVar34,eVar39,prop24,prop54",t.eVar34=e,t.eVar39=o,t.prop54=i,t.tl(this,"o",i)},checkRedirect:function(){if(MMT_HEADER.getCookie("mmt-auth")){var e=MMT_HEADER.getCookie("myBusinessSubscription");if(e&&"b2b"==e)return $(".b2b_access_denied_pop_up").show(),!1}return!0},omnitureLogging:function(e,o,i){try{console.log("tracking started for "+s),s.linkTrackVars="channel,eVar1,eVar15,eVar24,eVar34,eVar39,prop54,prop62",s.prop54=e,s.prop62=o,s.eVar15=i,s.tl(this,"o",e)}catch(t){return console.log("unable to log omniture for "+e),!1}},omnitureTrackingForCorporate:function(e,o){var i=MMT_HEADER.getCookie("myBusinessSubscription");console.log("omniture :: lob : "+e+", displayFor : "+o+", myBusiness: "+i);var t=!1;try{t=localStorage.getItem("signedIn")}catch(n){console.log("error while reading the local storage for signedIn : "+n)}if(("common"==o||"b2b"==o)&&t){var r="",a="",s="";try{r=localStorage.getItem("policyId"),a=localStorage.getItem("orgId"),s=localStorage.getItem("isCorpAdmin")}catch(n){return console.log("error in getting omniture parameter from localStorage: "+n),!1}r||(r=""),a||(a=""),s||(s="");var c=a+"|"+r+"|"+s;console.log("omniture tracking parameter prop62 : "+c);var l=window.location.pathname,d=l.split("/").pop();if(console.log("page name for omniture trackning : "+d),d)var _=d+"|corporate";else var _="corporate";switch(e){case"flights":MMT_HEADER.omnitureLogging("Header_flights",c,_);break;case"hotels":MMT_HEADER.omnitureLogging("Header_hotels",c,_);break;case"bus":MMT_HEADER.omnitureLogging("Header_buses",c,_);break;case"venues":MMT_HEADER.omnitureLogging("Header_venues",c,_);break;case"b2b_gift_cards":MMT_HEADER.omnitureLogging("Header_giftcards",c,_);break;case"admin_site":MMT_HEADER.omnitureLogging("Header_adminsite",c,_);break;case"Header_Account_MyProfile":MMT_HEADER.omnitureLogging("Header_Account_MyProfile",c,_);break;case"Header_Account_MyTrips":MMT_HEADER.omnitureLogging("Header_Account_MyTrips",c,_);break;case"Header_Account_Support":MMT_HEADER.omnitureLogging("Header_Account_Support",c,_);break;case"Header_Account_Logout":MMT_HEADER.omnitureLogging("Header_Account_Logout",c,_);break;case"Admin_Info_Okay_Clicked":MMT_HEADER.omnitureLogging("Admin_Info_Okay_Clicked",c,_);break;case"Admin_Info_Crossed":MMT_HEADER.omnitureLogging("Admin_Info_Crossed",c,_);break;default:console.log("no match found for omniture tracking corresponding to lob : "+e)}}},applyTabFunctions:function(e,o,i){switch(console.log("displayName : "+e+", lob : "+o+", displayFor : "+i),MMT_HEADER.omnitureTrackingForCorporate(o,i),e){case"admin site":return MMT_HEADER.checkAdminRedirect();default:return!0}},checkAdminRedirect:function(){if(MMT_HEADER.getCookie("mmt-auth")){var e=MMT_HEADER.getCookie("corporateRole");return!(!e||"admin"!=e)||($(".corp-admin-popup").show(),!1)}return window.location.reload(),!1},checkMMTAuthCookie:function(){var e=MMT_HEADER.getCookie("mmt-auth");if(console.log(e),!e)return MMT_HEADER.deleteCookie("myBusinessSubscription"),MMT_HEADER.deleteCookie("userSession"),MMT_HEADER.deleteCookie("corporateRole"),void MMT_HEADER.deleteCookie("valid-auth-session")},checkValidCookieState:function(){var e=MMT_HEADER.getCookie("mmt-auth"),o=MMT_HEADER.getCookie("myBusinessSubscription");if(e){var i=e[e.length-1];"C"!=i&&"P"!=i&&MMT_HEADER.submitLogOut(),"C"==i&&"b2b"!=o?MMT_HEADER.submitLogOut():"P"==i&&"b2c"!=o&&MMT_HEADER.submitLogOut()}},adminKeyPressSuccess:function(e){var o=$(e);""!=o.val()?o.next().addClass("corp-primary_btn").removeAttr("disabled"):o.next().removeClass("corp-primary_btn").attr("disabled",!0)},adminEmailSuccess:function(){return $(".corp-sug-left,.corp-sug-right").hide(),$(".corp-primary_btn").addClass("disabled"),$("#corp-admin-thanks").show(),!0},closeOverlay:function(){$(".corp-admin-popup .o-i-cross-dark").click(function(){$(this).parents(".corp-admin-popup").hide()})},closeOverlayFromButton:function(){$(".corp-admin-popup").hide()}};MMT_HEADER.validations={validateSignUp:function(e,o,i){var t=null,n=!0;return t=MMT_HEADER.validations.validateEmail(e),t&&(MMT_HEADER.validations.showErrorMessage("ch_signup_email_error",t),n=!1),t=MMT_HEADER.validations.validatePhone(o),t&&(MMT_HEADER.validations.showErrorMessage("ch_signup_phone_error",t),n=!1),i=$("#ch_signup_password").val(),t=MMT_HEADER.validations.validateSignupPassword(i),t&&(MMT_HEADER.validations.showErrorMessage("ch_signup_password_error",t),n=!1),n},validateResetPassword:function(e){var o=MMT_HEADER.validations.validateSignupPassword(e);return!o||(MMT_HEADER.validations.showErrorMessage("ch_set_new_password_error",o),!1)},validateForgotPassword:function(e){var o=MMT_HEADER.validations.validateLoginId(e);return o.valid?o:(MMT_HEADER.validations.showErrorMessage("ch_forgetpwd_email_error",o.message),{valid:!1})},validateLogin:function(e,o){var i=null,t=!0;i=MMT_HEADER.validations.validatePassword(o),i&&(MMT_HEADER.validations.showErrorMessage("ch_login_password_error",i),t=!1);var n=MMT_HEADER.validations.validateLoginId(e);return n.valid?{valid:t,type:n.type}:(MMT_HEADER.validations.showErrorMessage("ch_login_email_error",n.message),{valid:!1})},showErrorMessage:function(e,o){$("#"+e+" > .ch-error-innertxt").text(o),$("#"+e).show()},validateStringEmpty:function(e){return!(!e||!e.trim())},validateEmailRegx:function(e){var o=/^[a-zA-Z0-9_!#$%&'*+\/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$/;return!!o.test(e.trim())},validatePhoneRegx:function(e){var o=!1;return e.startsWith("+91")?new RegExp(/^(\+\d{1,3}[- ]?)?\d{10}$/).test(e.substring(3))&&(o=!0):new RegExp(/^[+]?[0-9]{5,15}$/).test(e)&&(o=!0),o},validateLoginId:function(e){return MMT_HEADER.validations.validateStringEmpty(e)?MMT_HEADER.validations.validateEmailRegx(e)?{valid:!0,type:"EMAIL"}:MMT_HEADER.validations.validatePhoneRegx(e)?{valid:!0,type:"MOBILE"}:{valid:!1,message:"Please enter a valid Email Address or Mobile Number"}:{valid:!1,message:"Please enter an Email Address or a Mobile Number"}},validateEmail:function(e){if(!MMT_HEADER.validations.validateStringEmpty(e))return"Please enter an Email Address";return MMT_HEADER.validations.validateEmailRegx(e)?null:"Please enter a valid Email Address"},validatePhone:function(e){return MMT_HEADER.validations.validateStringEmpty(e)?MMT_HEADER.validations.validatePhoneRegx(e)?null:"Please enter a valid Phone Number":"Please enter a Phone Number"},validatePassword:function(e){return e&&""!=e.trim()?e.length<6?"The password should be minimum of 6 characters":null:"Please enter a password"},validateSignupPassword:function(e){return e&&""!=e.trim()?e.length<8?"The password should be minimum of 8 characters":e.match(/[@$!%*#?&]/i)&&e.match(/\d/)&&e.match(/[a-z]/i)?null:"The password should contain atleast 1 numeric & 1 special charatcer(@$!%*#?&)":"Please enter a password"}},window.fbAsyncInit=function(){FB.init({appId:"168059739963878",channelUrl:"//"+window.location.hostname+"/channel",status:!0,cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(e){"connected"===e.status||"not_authorized"===e.status})};var NotificationClient={sendSubscriptionToServer:function(e,o){var i=e.toJSON(),t="",n="",r=e.endpoint.split("/"),a=r[r.length-1];null!=i.keys&&(t=i.keys.auth,n=i.keys.p256dh);var s=!1,c=MMT_HEADER.getFromCache("notification");c&&null!=c?null!=c.subscription&&c.subscription.pushId==a&&c.subscription.auth==t&&c.subscription.p256dh==n||(s=!0):(c={},s=!0);var l=c.lastCall,d=(new Date).getTime();if((o||null==l||d-l>864e5)&&(c.lastCall=d,s=!0),s){c.subscription={pushId:a,auth:t,p256dh:n};var _=new Date("December 31, 2030 23:59:59");MMT_HEADER.putInCache("notification",c,_);var h=this.getBrowserDetails(),g=h.browserName,u=h.majorVersion,p="";navigator.appVersion.indexOf("Win")!=-1?p="Windows":navigator.appVersion.indexOf("Mac")!=-1?p="MacOS":navigator.appVersion.indexOf("X11")!=-1?p="UNIX":navigator.appVersion.indexOf("Linux")!=-1&&(p="Linux");for(var f=p+"|"+g+" "+h.fullVersion,m="",M=0;M<a.length;)m+=a.charAt(M),M+=4;var E=MMT_HEADER.getCookie("s_vi"),v={deviceId:m,pushId:a,auth:t,p256dh:n,deviceModel:f,browser:g,browserVersion:u,visitorId:E};v=JSON.stringify(v),MMT_HEADER.ajaxPost(MMT_HEADER.constants.notificationRegisterURL,v,NotificationClient.successAirpushRegister,NotificationClient.errorAirpushRegister)}},successAirpushRegister:function(e,o,i){e&&(e=JSON.parse(e),e&&200==e.responseCode||5404===e.responseCode&&(document.location.href="//www.makemytrip.com"))},errorAirpushRegister:function(e,o,i){},getBrowserDetails:function(){var e,o,i,t=navigator.userAgent,n=navigator.appName,r=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10);(o=t.indexOf("Opera"))!=-1?(n="Opera",r=t.substring(o+6),(o=t.indexOf("Version"))!=-1&&(r=t.substring(o+8))):(o=t.indexOf("MSIE"))!=-1?(n="Microsoft Internet Explorer",r=t.substring(o+5)):(o=t.indexOf("Chrome"))!=-1?(n="Chrome",r=t.substring(o+7)):(o=t.indexOf("Safari"))!=-1?(n="Safari",r=t.substring(o+7),(o=t.indexOf("Version"))!=-1&&(r=t.substring(o+8))):(o=t.indexOf("Firefox"))!=-1?(n="Firefox",r=t.substring(o+8)):(e=t.lastIndexOf(" ")+1)<(o=t.lastIndexOf("/"))&&(n=t.substring(e,o),r=t.substring(o+1),n.toLowerCase()==n.toUpperCase()&&(n=navigator.appName)),(i=r.indexOf(";"))!=-1&&(r=r.substring(0,i)),(i=r.indexOf(" "))!=-1&&(r=r.substring(0,i)),a=parseInt(""+r,10),isNaN(a)&&(r=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10));var s={browserName:n,fullVersion:r,majorVersion:a};return s},getSubscriptionAndRegister:function(e){if(router.getViewModel("header_info_view")&&"1"!==router.getViewModel("header_info_view").data.displayNotifications)return void NotificationClient.disableNotifications();if("serviceWorker"in navigator&&"showNotification"in ServiceWorkerRegistration.prototype&&"denied"!==Notification.permission&&"PushManager"in window){var o=Notification.permission;navigator.serviceWorker.ready.then(function(i){i.pushManager.getSubscription().then(function(t){t?NotificationClient.sendSubscriptionToServer(t,e):i.pushManager.subscribe({userVisibleOnly:!0}).then(function(i){"default"===o&&NotificationClient.notificationOmnitureCall(null,"allow"),NotificationClient.sendSubscriptionToServer(i,e)})["catch"](function(e){"denied"===Notification.permission?"default"===o&&NotificationClient.notificationOmnitureCall(null,"block"):"default"===Notification.permission&&"default"===o&&NotificationClient.notificationOmnitureCall(null,"cross")})})["catch"](function(e){})})}},populateNotificationOverlay:function(){var e=router.getViewModel("header_info_view");if(!e||"HLP"===e.data.lob&&"1"===e.data.displayNotifications){var o=MMT_HEADER.getFromCache("notification");o=NotificationClient.removeExpiredNotifications(o);var i=MMT_HEADER.getCookie("mmt-auth");if(null!=o){var t;if(i&&null!=i){t=new Array;var n=null==o.loginItems||0==o.loginItems.length,r=null==o.logoutItems||0==o.logoutItems.length;if(n&&r)t=null;else if(n&&!r)t=o.logoutItems;else if(!n&&r)t=o.loginItems;else{for(var a=0,s=0,c=0;a<3&&s<o.loginItems.length&&c<o.logoutItems.length;){var l=o.loginItems[s],d=o.logoutItems[c];l.time>d.time?(t[a++]=l,s++):(t[a++]=d,c++)}if(s==o.loginItems.length&&3!=a)for(;a<3;c++)t[a++]=o.logoutItems[c];if(c==o.logoutItems.length&&3!=a)for(;a<3;s++)t[a++]=o.loginItems[s]}}else t=o.logoutItems;var _=0;if(null!=t&&t.length>0){for(var s=0;s<t.length;s++)$("#notification_"+s+" #title").text(t[s].title),$("#notification_"+s+" #text").text(t[s].body),$("#notification_"+s).show(),$("#notification_"+s+" a").attr("href",t[s].webpageURL),t[s].highlight&&_++;for(var c=s;c<3;c++)$("#notification_"+c).hide();_>0?($(".ch__notificationCount").text(_),$(".ch__notificationCount").show()):$(".ch__notificationCount").hide()}else $(".ch__notificationCount").hide()}else $(".ch__notificationCount").hide()}},resetNewNotificationCount:function(){var e=MMT_HEADER.getFromCache("notification");if(null!=e){var o=!1,i=e.loginItems,t=e.logoutItems;if(null!=i&&i.length>0)for(var n=0;n<i.length;n++)i[n].highlight&&(i[n].highlight=!1,o=!0);if(null!=t&&t.length>0)for(var n=0;n<t.length;n++)t[n].highlight&&(t[n].highlight=!1,o=!0);if(e.loginItems=i,e.logoutItems=t,o){NotificationClient.populateNotificationOverlay();var r=new Date("December 31, 2030 23:59:59");MMT_HEADER.putInCache("notification",e,r)}}},removeExpiredNotifications:function(e){if(null!=e){var o=!1,i=e.loginItems,t=e.logoutItems;if(null!=i&&0!=i.length)for(var n=0;n<i.length;n++)try{var r=i[n].campaign,a=NotificationClient.getCampaignTime(r);if(null==a)continue;var s=(new Date).getTime();a<s&&(i.splice(n,1),n--,o=!0)}catch(c){}if(null!=t&&0!=t.length)for(var n=0;n<t.length;n++)try{var r=t[n].campaign,a=NotificationClient.getCampaignTime(r);if(null==a)continue;var s=(new Date).getTime();a<s&&(t.splice(n,1),n--,o=!0)}catch(c){}if(e.loginItems=i,e.logoutItems=t,o){var l=new Date("December 31, 2030 23:59:59");MMT_HEADER.putInCache("notification",e,l)}}return e},getCampaignTime:function(e){var o=e.lastIndexOf("_");if(o<0)return null;var i=e.substring(o+1);if(i.length<10||i.lastIndexOf("-")-i.indexOf("-")!=3)return null;var t=i.substring(0,i.indexOf("-")),n=i.substring(i.indexOf("-")+1,i.lastIndexOf("-")),r=i.substring(i.lastIndexOf("-")+1,i.indexOf(" ")),a="",s="",c="";i.indexOf(" ")<0||i.indexOf(":")<0?(a="00",s="00",c="00"):(a=i.substring(i.indexOf(" ")+1,i.indexOf(":")),i.indexOf(":")==i.lastIndexOf(":")?(s=i.substring(i.indexOf(":")+1),c="00"):(s=i.substring(i.indexOf(":")+1,i.lastIndexOf(":")),c=i.substring(i.lastIndexOf(":")+1)));var l=new Date(r,n-1,t,a,s,c,0);return l.getTime()},fetchNotificationFromServiceWorker:function(){return new Promise(function(e,o){var i=new MessageChannel;i.port1.onmessage=function(i){if(i.data.error)o(i.data.error);else{e(i.data);var t=i.data;if(null==t||0==t.length)return;for(var n=0;n<t.length;n++){var r=t[n];0==r.silent&&NotificationClient.saveNotification(r),r.clicked&&NotificationClient.notificationOmnitureCall(r,"click")}NotificationClient.populateNotificationOverlay()}},navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage("Requesting Notification From SW ",[i.port2])})},saveNotification:function(e){e.highlight=!0;var o=MMT_HEADER.getCookie("mmt-auth"),i=MMT_HEADER.getFromCache("notification");null==i&&(i={}),null==i.loginItems&&(i.loginItems=new Array),null==i.logoutItems&&(i.logoutItems=new Array);for(var t=0;t<3;t++)if(i.logoutItems[t]&&i.logoutItems[t].time==e.time||i.loginItems[t]&&i.loginItems[t].time==e.time)return;null!=o?(i.loginItems.unshift(e),4==i.loginItems.length&&(i.loginItems.length=3)):(i.logoutItems.unshift(e),4==i.logoutItems.length&&(i.logoutItems.length=3));var n=new Date("December 31, 2030 23:59:59");MMT_HEADER.putInCache("notification",i,n)},notificationOmnitureCall:function(e,o){var i=s_gi("mmtprod");if("click"==o){i.linkTrackVars="eVar0,eVar1,eVar39,eVar61,prop24",i.eVar0=e.campaign,i.eVar1=navigator.userAgent;var t=MMT_HEADER.getCookie("mmt-auth");t?i.eVar39="LoggedIn":i.eVar39="LoggedOut",i.eVar61="en",i.prop24="brand"}else{i.linkTrackVars="eVar1,eVar39,eVar61,prop54",i.eVar1=navigator.userAgent;var t=MMT_HEADER.getCookie("mmt-auth");t?i.eVar39="LoggedIn":i.eVar39="LoggedOut",i.eVar61="en","block"==o?i.prop54="System_popup_Block":"allow"==o?i.prop54="System_popup_Allow":"cross"==o&&(i.prop54="System_popup_Cross")}i.tl()},disableNotifications:function(){$(".notification_dropdown").hide(),$("#ch_notification").hide()},registerServiceWorker:function(){"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw-mmt.js").then(function(e){NotificationClient.getSubscriptionAndRegister(!1),NotificationClient.fetchNotificationFromServiceWorker()})["catch"](function(e){}),navigator.serviceWorker.addEventListener("message",function(e){null!=e.data&&(e.data.clicked&&NotificationClient.notificationOmnitureCall(e.data,"click"),e.data.silent||(NotificationClient.saveNotification(e.data),NotificationClient.populateNotificationOverlay()))}))}};$(window).load(function(){NotificationClient.registerServiceWorker(),NotificationClient.populateNotificationOverlay()}),$(document).ready(function(){function e(){var e=new Array;e[0]=new Array("www.makemytrip.com/flights","flights"),e[1]=new Array("www.makemytrip.com/international-flights","flights"),e[2]=new Array("www.makemytrip.com/hotels","hotels"),e[3]=new Array("www.makemytrip.com/hotels-international","hotels"),e[4]=new Array("www.makemytrip.com/holidays-india","holidays"),e[5]=new Array("www.makemytrip.com/holidays-international","holidays"),e[6]=new Array("www.makemytrip.com/bus-tickets","bus"),e[7]=new Array("www.makemytrip.com/railways","rail"),e[8]=new Array("www.makemytrip.com/cabs","cabs"),e[9]=new Array("www.makemytrip.com/gift-cards","gift-card"),e[10]=new Array("www.makemytrip.com/homestays","homestay");var o="";if("http://www.makemytrip.com/"===location.href||"https://www.makemytrip.com/"===location.href)$("#header_tab_flights").addClass("active");else for(var i=0;i<e.length;i++)location.href.indexOf(e[i][0])!=-1?(o=e[i][1],$("#header_tab_"+o).addClass("active")):e[i][1]!==o&&$("#header_tab_"+e[i][1]).removeClass("active")}$("#ch_trips_login").click(function(e){e.stopPropagation(),MMT_HEADER.loadSocialConnect(),$(".ch__loginSection").is(":visible")||$(".ch__signUpSection,.ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__loginSection").slideDown(500)})}),$("#ch_trips_signup").click(function(e){e.stopPropagation(),MMT_HEADER.loadSocialConnect(),$(".ch__signUpSection").is(":visible")||$(".ch__loginSection,.ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__signUpSection").slideDown(500)})}),$("#ch_notification").mouseover(function(){""==$("#notification_0 #title").text()?($(".no_notification_overlay").show(),$(".notification_overlay").hide()):($(".no_notification_overlay").hide(),$(".notification_overlay").show(),$(".ch__notificationCount").hide(),NotificationClient&&NotificationClient.resetNewNotificationCount())}),$(".hdr-user-loggedin input").keyup(function(){$(".hdr_verifyMobText").text(""),$(this).val()>0?$(".otp_btn").removeClass("ch_dissable_state"):$(".otp_btn").addClass("ch_dissable_state")}),$(".hdr_otp_verify input").keyup(function(){$(".hdr_verifyOTPText").text("")}),$(".hdr_resend_otp").on("click",function(){MMT_HEADER.resendOTPNumber()}),$("#hdr_myBusiness").on("click",function(){var e=MMT_HEADER.getCookie("mmt-auth");e?$(".switch-profile-myBusiness").show():document.location.href="//mybiz.makemytrip.com/"}),MMT_HEADER.checkMMTAuthCookie(),MMT_HEADER.checkValidCookieState(),e(),MMT_HEADER.loadLoggedInSections(),null!=$("#userLoginSection")&&$("#userLoginSection").children().length>0&&MMT_HEADER.loadFacebookSDK(),MMT_HEADER.setVisitorCookie()});var MMT_CUSTOM={selectorShow:function(e,o){e.show(function(){try{var e=s_gi("mmtprod");e.linkTrackVars="channel,eVar1,eVar15,eVar24,eVar34,eVar39,prop24,prop54",e.prop54=o,e.tl(this,"o",o)}catch(i){}})},attachClickFocusEvents:function(){var e="Switch to myBiz account",o="In order to avail myBiz benefits, you will have to login again with your work email ID. We will redirect you to login page.",i="Are you sure? ",t="You will have to logout from your myBiz account and login into your personal account in order to switch.";clearInputValues=function(){$("#ch_login_email").val(""),$("#ch_login_password").val(""),$("#ch_forgetpwd_email").val(""),$("#ch_signup_email").val(""),$("#ch_signup_phone").val(""),$("#ch_signup_password").val(""),$("#userLoginSection input[type=checkbox]").attr("checked",!1)},$("#ch_signup_google").click(function(){$("#ch_login_google").click()}),$("#hdr_personal-account").click(function(){$("#hdr_corp-account").hasClass("active")&&($(".modal_header_text").text(i),$(".hdr_corpText").text(t),$(".ch__profileOverlay").hide(),$("#btn_popup_login").hide(),$("#btn_popup_logout").show(),$(".corp-popup-signup-section").hide(),$("#switch-profile-div").show())}),$("#hdr_corp-account").click(function(){$("#hdr_personal-account").hasClass("active")&&($(".modal_header_text").text(e),$(".hdr_corpText").text(o),$(".ch__profileOverlay").hide(),$("#btn_popup_login").show(),$("#btn_popup_logout").hide(),$(".corp-popup-signup-section").show(),$("#switch-profile-div").show())}),$(".switch-profile-ol .cancel-btn,.switch-profile-ol .o-i-cross-dark").click(function(){$(this).parents(".switch-profile-ol").hide()}),$(".switch-profile-myBusiness .cancel-btn,.switch-profile-myBusiness .o-i-cross-dark").click(function(){$(this).parents(".switch-profile-myBusiness").hide()}),$(".switch-profile-m1 .cancel-btn,.switch-profile-m1 .o-i-cross-dark").click(function(){$(this).parents(".switch-profile-m1").hide(),$(".ch__profileOverlay").show()}),$("input[type=text][id^=ch_], input[type=password][id^=ch_]").on("focusin",function(){id=this.id,$("#"+id+"_error").hide(),$("#ch_login_error").hide(),$("#ch_forgetpwd_error").hide(),$("#ch_signup_error").hide()}),$(".ch__signup").unbind("click").click(function(){$(".ch__signUpSection").is(":visible")?($("div[id^='ch'][id$='error']").hide(),$(".ch__signUpSection").slideUp(500),clearInputValues()):$(".ch__loginSection,.ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__signUpSection").slideDown(500),$(".ch_login-persuasion").hide()})}),$(".ch__login").unbind("click").click(function(){$(".ch__loginSection").is(":visible")?($("div[id^='ch'][id$='error']").hide(),$(".ch__loginSection").slideUp(500),clearInputValues()):$(".ch__signUpSection,.ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__loginSection").slideDown(500),$(".ch_login-persuasion").hide()})}),$(".forget_pwd").click(function(){$("#forgotpwd_sent_section").hide(),$("#forgotpwd_password_section").show(),$(".ch__loginSection,.ch__signUpSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__forgetPwdSection").slideDown(500),$(".hdr-password-reset-con").show(),$(".hdr-set-new-password-con").hide(),$(".hdr-verify-otp-con").hide(),$("#forgotpwd_password_section,#forgot_pwd_heading").show(),$("#forgotpwd_sent_section").hide()})}),$(".ch__haveAccount, #ch_forgetpwd_login").click(function(){$(".ch__signUpSection, .ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__loginSection").slideDown(500),clearInputValues()})}),$(".o-i-cross-dark.ch-accout-cross").on("click",function(){$(".ch__loginSection, .ch__signUpSection , .ch__forgetPwdSection, .ch__loginSection, .hdr-send-otp-con, .hdr-verfy-otp-con").slideUp(500),clearInputValues()}),$("body , html").on("click",function(e){console.log("++++++ --->"+e),$(e.target).closest(".ch__signUpSection").length||$(e.target).closest(".ch__signup").length||$(e.target).closest(".ch__loginSection").length||$(e.target).closest(".ch__login").length||$(e.target).closest(".ch__forgetPwdSection").length||$(".ch__signUpSection, .ch__loginSection, .ch__forgetPwdSection").is(":visible")&&($(".ch__signUpSection, .ch__loginSection, .ch__forgetPwdSection").slideUp(),$("div[id^='ch'][id$='error']").hide(),clearInputValues())}),$("#ch_signup_phone").focus(function(){var e=$("#ch_signup_phone").val();e||(e+="+91",$("#ch_signup_phone").val(e))}),$(".corp-signup-section, .myBusiness_login, .hdr_item_link, .hdr_mytrip_items, .hdr_hambrgr_items, .ch__walletMoney, .ch_wallet_link, .hdr_account_items, .cho_24X7, .cho_rewards\t,.ch__getapp,.cho_trips, .cho_login, .cho_signup, .cho_logindrawer_btn, .cho_signupdrawer_btn, .cho_facebook_btn, .cho_google_btn, .ch_persuasion_signup, .ch_persuasion_login").on("click",function(e){e.stopPropagation();var o=s_gi("mmtprod");o.linkTrackVars="channel,eVar1,eVar15,eVar24,eVar34,eVar39,prop24,prop54";var i=$(this).html();$(this).hasClass("hdr_item_link")?prop54Val="Header_"+i:$(this).hasClass("cho_logindrawer_btn")?prop54Val="Header_Login_Button":$(this).hasClass("hdr_mytrip_items")?prop54Val="Header_My_Trips_"+i:$(this).hasClass("hdr_hambrgr_items")?prop54Val="Header_Ham_Burger_"+i:$(this).hasClass("ch__walletMoney")?prop54Val="Header_Wallet":$(this).hasClass("hdr_account_items")?prop54Val="Header_Account_"+i:$(this).hasClass("cho_mmtBlack")?prop54Val="Header_MMT_BLACK":$(this).hasClass("cho_24X7")?prop54Val="Home_Page_Support":$(this).hasClass("ch__referearn")?prop54Val="dt_referral_clicksource_newMHP_banner2":$(this).hasClass("cho_trips")?prop54Val="Header_My_Trip":$(this).hasClass("cho_login")?prop54Val="Header_Login":$(this).hasClass("cho_signup")?prop54Val="Header_SignUp":$(this).hasClass("cho_facebook_btn")?prop54Val="Header_Facebook_Button":$(this).hasClass("cho_google_btn")?prop54Val="Header_Google_Button":$(this).hasClass("cho_signupdrawer_btn")?prop54Val="Header_SignUp_Button":$(this).hasClass("ch_wallet_link")?prop54Val="Header_Wallet_View":$(this).hasClass("ch_refer_earn")?prop54Val="Header_Wallet_Refer_And_Earn":$(this).hasClass("ch_persuasion_signup")?prop54Val="Header_Login_persuasion_SignUp":$(this).hasClass("ch_persuasion_login")?prop54Val="Header_Login_persuasion_LogIn":$(this).hasClass("myBusiness_login")?(prop54Val="B2CHeaderLogin_Corporate",o.eVar21="HPLP_Header_login"):$(this).hasClass("corp-signup-section")?prop54Val="B2CHeaderSignup_Corporate":prop54Val=i,o.prop54=prop54Val,o.tl(this,"o",prop54Val)})},attachKeypressEvents:function(){$("#ch_login_password").keypress(function(e){13==e.keyCode&&$("#ch_login_btn").click()}),$("#ch_signup_password").keypress(function(e){13==e.keyCode&&$("#ch_signup_btn").click()}),$("#ch_forgetpwd_email").keypress(function(e){13==e.keyCode&&$("#ch_forgetpwd_submit").click()})},removeClickFocusEvents:function(){$("#ch_signup_google").off("click"),$("#hdr_personal-account").off("click"),$("#hdr_corp-account").off("click"),$(".switch-profile-ol .cancel-btn,.switch-profile-ol .o-i-cross-dark").off("click"),$(".switch-profile-myBusiness .cancel-btn,.switch-profile-myBusiness .o-i-cross-dark").off("click"),$(".switch-profile-m1 .cancel-btn,.switch-profile-m1 .o-i-cross-dark").off("click"),$("input[type=text][id^=ch_], input[type=password][id^=ch_]").off("focusin"),$(".ch__signup").off("click"),$(".ch__login").off("click"),$(".forget_pwd").off("click"),$(".ch__haveAccount, #ch_forgetpwd_login").off("click"),$(".o-i-cross-dark.ch-accout-cross").off("click"),$("body , html").off("click"),$("#ch_signup_phone").off("focus"),$(".hdr_item_link, .hdr_mytrip_items, .hdr_hambrgr_items, .ch__walletMoney, .ch_wallet_link, .hdr_account_items, .cho_24X7, .cho_rewards\t,.ch__getapp,.cho_trips, .cho_login, .cho_signup, .cho_logindrawer_btn, .cho_signupdrawer_btn, .cho_facebook_btn, .cho_google_btn, .ch_persuasion_signup, .ch_persuasion_login").off("click")},removeKeypressEvents:function(){$("#ch_login_password").off("keypress"),$("#ch_signup_password").off("keypress"),$("#ch_forgetpwd_email").off("keypress")},attachAllEvents:function(){MMT_CUSTOM.attachClickFocusEvents(),MMT_CUSTOM.attachKeypressEvents()},removeAllEvents:function(){MMT_CUSTOM.removeClickFocusEvents(),MMT_CUSTOM.removeKeypressEvents()}};$(document).ready(MMT_CUSTOM.attachClickFocusEvents()),MMT_CUSTOM.attachKeypressEvents();